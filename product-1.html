<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product 1 - Jesus Saves Apparel</title>
    <link rel="stylesheet" href="product.css">
</head>

<body>
    <header>
        <h1>Jesus Saves Apparel</h1>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="about-us.html">About Us</a></li>
                <li><a href="shop.html">Shop</a></li>
                <li><a href="contact.html">Contact Us</a></li>
            </ul>
            <div class="cart-icon" onclick="window.location.href='cart.html'">
                <img src="cart.png" alt="Cart">
                <div class="cart-count" id="cart-count">0</div>
            </div>
            <div class="hamburger-menu" id="hamburger-menu">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav>
        <ul class="mobile-menu" id="mobile-menu">
            <li><a href="index.html">Home</a></li>
            <li><a href="about-us.html">About Us</a></li>
            <li><a href="shop.html">Shop</a></li>
            <li><a href="contact.html">Contact Us</a></li>
        </ul>
    </header>

    <div class="container">
        <section class="product-section">
            <div class="carousel">
                <button class="carousel-button prev" onclick="prevSlide()">&#10094;</button>
                <div class="carousel-images">
                    <img src="Final Designs/Power in the name of Jesus/Front.jpg" alt="Faith Hoodie - Jesus Saves Apparel" class="product-image">
                    <img src="Final Designs/Power in the name of Jesus/Back.jpg" alt="Faith Hoodie Back - Jesus Saves Apparel" class="product-image">
                    <img src="Final Designs/JS PBPDPA Black/Side.jpg" alt="Faith Hoodie Side - Jesus Saves Apparel" class="product-image">
                    <img src="Final Designs/JS PBPDPA Black/Detail.jpg" alt="Faith Hoodie Detail - Jesus Saves Apparel" class="product-image">
                </div>
                <button class="carousel-button next" onclick="nextSlide()">&#10095;</button>
            </div>
            <h2>Faith Hoodie</h2>
            <p class="price">$29.99</p>
            <button class="cta-button add-to-cart" data-id="1" data-name="Faith Hoodie" data-price="29.99">Add to Cart</button>
            <p class="description">Product description goes here. It provides details about the product.</p>
            <div class="selection">
                <label for="color">Color:</label>
                <select id="color" onchange="changeColor(this.value)">
                    <option value="black">Black</option>
                    <option value="red">Red</option>
                    <option value="blue">Blue</option>
                    <option value="green">Green</option>
                </select>
            </div>
            <div class="selection">
                <label for="size">Size:</label>
                <select id="size">
                    <option value="small">Small</option>
                    <option value="medium">Medium</option>
                    <option value="large">Large</option>
                </select>
            </div>
            
            <!-- PayFast Form Below the Product Section -->
            <form onsubmit="return actionPayFastJavascript(this);" name="PayFastPayNowForm" action="https://payment.payfast.io/eng/process" method="post">
                <input required type="hidden" name="cmd" value="_paynow">
                <input required type="hidden" name="receiver" pattern="[0-9]" value="26732287">
                <input type="hidden" name="return_url" value="https://jesussavesapparel.github.io/JSA/">
                <input type="hidden" name="cancel_url" value="https://jesussavesapparel.github.io/JSA/">
                <input required type="hidden" name="amount" value="29.99">
                <table>
                    <tr>
                        <td><label for="custom_quantity">Quantity: </label></td>
                        <td><input required id="custom_quantity" type="number" name="custom_quantity" value="1"></td>
                    </tr>
                </table>

                <input required type="hidden" name="item_name" maxlength="255" value="Faith Hoodie">
                <input type="hidden" name="item_description" maxlength="255" value="Faith Hoodie (Testing)">
                <table>
                    <tr>
                        <td colspan="2"><span style="font-weight: bold;">Shipping Address</span></td>
                    </tr>
                    <tr>
                        <td><span style="color:red;">*</span>&nbsp;Line 1</td>
                        <td><input type="text" name="line1" class="shipping" value=""></td>
                    </tr>
                    <tr>
                        <td>Line 2</td>
                        <td><input type="text" name="line2" class="shipping" value=""></td>
                    </tr>
                    <tr>
                        <td><span style="color:red;">*</span>&nbsp;City</td>
                        <td><input type="text" class="shipping" name="city" value=""></td>
                    </tr>
                    <tr>
                        <td><span style="color:red;">*</span>&nbsp;Province</td>
                        <td><input type="text" class="shipping" name="region" value=""></td>
                    </tr>
                    <tr>
                        <td><span style="color:red;">*</span>&nbsp;Country</td>
                        <td>
                            <select name="country" class="shipping">
                                <option value="" selected="selected">- Select -</option>
                                <option value="South Africa">South Africa</option>
                                <option value="Botswana">Botswana</option>
                                <option value="Lesotho">Lesotho</option>
                                <option value="Mauritius">Mauritius</option>
                                <option value="Mozambique">Mozambique</option>
                                <option value="Swaziland">Swaziland</option>
                                <option value="Zimbabwe">Zimbabwe</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td><span style="color:red;">*</span>&nbsp;Postal Code</td>
                        <td><input type="number" name="code" class="shipping" value=""></td>
                    </tr>
                </table>
                <table>
                    <tr>
                        <td colspan=2 align="center">
                            <input type="image" src="https://my.payfast.io/images/buttons/BuyNow/Light-Large-BuyNow.png" alt="Buy Now" title="Buy Now with Payfast">
                        </td>
                    </tr>
                </table>
            </form>
            <!-- End of PayFast Form -->
        </section>
    </div>

    <footer>
        <p>&copy; 2025 Jesus Saves Apparel. All rights reserved.</p>
    </footer>

    <script src="cart.js"></script>
    <script>
        function updateCartCount() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const cartCount = cart.reduce((total, item) => total + item.quantity, 0);
            document.getElementById('cart-count').textContent = cartCount;
        }

        document.addEventListener('DOMContentLoaded', updateCartCount);

        document.addEventListener("DOMContentLoaded", function () {
            const hamburgerMenu = document.querySelector(".hamburger-menu");
            const mobileMenu = document.querySelector(".mobile-menu");

            hamburgerMenu.addEventListener("click", function () {
                mobileMenu.classList.toggle("show");
            });

            // Close the menu when clicking outside
            document.addEventListener("click", function (event) {
                if (!hamburgerMenu.contains(event.target) && !mobileMenu.contains(event.target)) {
                    mobileMenu.classList.remove("show");
                }
            });
        });

        let currentSlide = 0;
        const slides = document.querySelectorAll('.carousel-images img');

        function showSlide(index) {
            slides.forEach((slide, i) => {
                slide.style.display = i === index ? 'block' : 'none';
            });
        }

        function nextSlide() {
            currentSlide = (currentSlide + 1) % slides.length;
            showSlide(currentSlide);
        }

        function prevSlide() {
            currentSlide = (currentSlide - 1 + slides.length) % slides.length;
            showSlide(currentSlide);
        }

        document.addEventListener('DOMContentLoaded', () => {
            showSlide(currentSlide);
        });

        function changeColor(color) {
            const colorImages = {
                black: [
                    'Final Designs/JS PBPDPA Black/Front.jpg',
                    'Final Designs/JS PBPDPA Black/Back.jpg',
                    'Final Designs/JS PBPDPA Black/Side.jpg',
                    'Final Designs/JS PBPDPA Black/Detail.jpg'
                ],
                red: [
                    'Final Designs/JS PBPDPA Red/Front.jpg',
                    'Final Designs/JS PBPDPA Red/Back.jpg',
                    'Final Designs/JS PBPDPA Red/Side.jpg',
                    'Final Designs/JS PBPDPA Red/Detail.jpg'
                ],
                blue: [
                    'Final Designs/JS PBPDPA Blue/Front.jpg',
                    'Final Designs/JS PBPDPA Blue/Back.jpg',
                    'Final Designs/JS PBPDPA Blue/Side.jpg',
                    'Final Designs/JS PBPDPA Blue/Detail.jpg'
                ],
                green: [
                    'Final Designs/JS PBPDPA Green/Front.jpg',
                    'Final Designs/JS PBPDPA Green/Back.jpg',
                    'Final Designs/JS PBPDPA Green/Side.jpg',
                    'Final Designs/JS PBPDPA Green/Detail.jpg'
                ]
            };

            const images = colorImages[color];
            slides.forEach((slide, i) => {
                slide.src = images[i];
            });
            currentSlide = 0;
            showSlide(currentSlide);
        }
    </script>
</body>

</html>
